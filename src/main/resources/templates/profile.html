<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Thông tin cá nhân</title>

    <link rel="icon" th:href="@{/images/logo/logo.jpg}">

    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script th:src="@{/js/bootstrap.js}"></script>
    <script th:src="@{/js/bootstrap.bundle.js}"></script>
    <script th:src="@{/js/fontawesome.js}" crossorigin="anonymous"></script>
    <script th:src="@{/js/jquery.js}"></script>
    <link rel="stylesheet" th:href="@{/css/frame_sale_product.css}">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0"/>
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" th:href="@{/css/product.css}">
    <link rel="stylesheet" th:href="@{/css/menu.css}">
    <script th:src="@{/js/menu.js}"></script>

    <link rel="stylesheet" type="text/css" th:href="${'https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css'}">
    <script type="text/javascript" th:src="${'https://cdn.jsdelivr.net/npm/toastify-js'}"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
<header>
    <div th:replace="fragments/header_fragment::header"></div>
</header>
<main class="container pb-5 mt-4" th:with="user=${session.user}">
    <div class="d-flex bg-white rounded-3 p-3 gap-3">
        <section style="flex: 1; background-color: #f1f1f1" class="rounded-3">
            <div class="d-flex align-items-center flex-column m-3">
                <div class="rounded-circle overflow-hidden bg-warning position-relative"
                     style="width: 100px; height: 100px">
                    <label class="w-100 h-100">
                        <input type="file" hidden="" id="avatar">
                    </label>
                    <p class="position-absolute top-50 start-50 fw-bold fs-3 text-white"
                       style="transform: translate(-50%, -50%)">KIMI</p>
                </div>
                <p class="mt-2">
                    <span>Xin chào, </span>
                    <i class="text-primary fw-bold user-last-name-and-first-name"
                       th:text="${user.getLastName()} + ' ' + ${user.getFirstName()}"/>
                </p>
            </div>
            <nav class="bg-primary m-3 rounded-3 overflow-hidden">
                <button data-index-slide="1"
                        class="text-white text-start w-100 border-0 bg-warning p-3 active profile-menu">
                    <i class="fa-solid fa-user fs-4"></i>
                    Thông tin tài khoản
                </button>
                <button data-index-slide="2" class="text-white text-start w-100 border-0 bg-primary p-3 profile-menu">
                    <i class="fa-solid fa-box fs-4"></i>
                    Đổi mật khẩu
                </button>
                <button data-index-slide="3" class="text-white text-start w-100 border-0 bg-primary p-3 profile-menu">
                    <i class="fa-solid fa-box fs-4"></i>
                    Danh sách đơn hàng
                </button>
            </nav>
        </section>

        <section data-slide="1" style="flex: 3; background-color: #f1f1f1" class="rounded-3 p-3 slide">
            <h4 class="text-warning text-uppercase">Thông tin tài khoản</h4>
            <div class="d-flex mb-2">
                <label class="w-100">
                    <span>Họ: </span> <span class="text-danger fw-bold">*</span> <br>
                    <input class="border border-1 border-secondary rounded rounded-3 p-2 w-100 user-first-name"
                           name="firstName"
                           required
                           placeholder="Họ" th:value="${user.getLastName()}"/>
                </label>
            </div>
            <div class="d-flex mb-2">
                <label class="w-100">
                    <span>Tên: </span> <span class="text-danger fw-bold">*</span> <br>
                    <input class="border border-1 border-secondary rounded rounded-3 p-2 w-100 user-last-name"
                           name="lastName"
                           required
                           placeholder="Tên" th:value="${user.getFirstName()}"/>
                </label>
            </div>
            <div class="d-flex mb-2">
                <span>Email: </span> <span class="text-danger fw-bold" th:text="' ' + ${user.email}"/> <br>
            </div>
            <div class="d-flex mb-2">
                <label class="w-100">
                    <span>Số điện thoại: </span> <span class="text-danger fw-bold">*</span> <br>
                    <input class="border border-1 border-secondary rounded rounded-3 p-2 w-100 user-phone"
                           name="phone"
                           required
                           placeholder="Số điện thoại"
                           th:value="${user.phone}"/>
                </label>
            </div>
            <div class="d-flex justify-content-center">
                <button class="p-2 bg-primary fw-bold text-white border-secondary rounded-3 border-0"
                        id="update-profile">
                    Cập nhật thông tin
                </button>
            </div>
        </section>

        <section data-slide="2" style="flex: 3; background-color: #f1f1f1" class="rounded-3 p-3 slide">
            <h4 class="text-warning text-uppercase">Đổi mật khẩu</h4>
            <div class="d-flex mb-2">
                <label class="w-100">
                    <span>Mật khẩu củ: </span> <span class="text-danger fw-bold">*</span> <br>
                    <input class="border border-1 border-secondary rounded rounded-3 p-2 w-100 user-first-name"
                           name="oldPassword"
                           required
                           type="password"
                           autocomplete="false"
                           autocapitalize="off"
                           placeholder="Mật khẩu củ"/>
                </label>
            </div>
            <div class="d-flex mb-2">
                <label class="w-100">
                    <span>Mật khẩu mới: </span> <span class="text-danger fw-bold">*</span> <br>
                    <input class="border border-1 border-secondary rounded rounded-3 p-2 w-100 user-last-name"
                           name="newPassword"
                           required
                           type="password"
                           placeholder="Mật khẩu mới"/>
                </label>
            </div>
            <div class="d-flex mb-2">
                <label class="w-100">
                    <span>Xác nhân mật khẩu mới: </span> <span class="text-danger fw-bold">*</span> <br>
                    <input class="border border-1 border-secondary rounded rounded-3 p-2 w-100 user-last-name"
                           name="confirmNewPassword"
                           required
                           type="password"
                           placeholder="Xác nhân mật khẩu mới"/>
                </label>
            </div>

            <div class="d-flex justify-content-center">
                <button class="p-2 bg-primary fw-bold text-white border-secondary rounded-3 border-0"
                        id="update-password">
                    Cập nhật mật khẩu
                </button>
            </div>
        </section>

        <section data-slide="3" style="flex: 3; background-color: #f1f1f1" class="rounded-3 p-3 slide">
            <h4 class="text-warning text-uppercase">Danh sách đơn hàng</h4>
            <div class="mb-2">
                <button id="delivering"
                        class="btn-status-bill p-2 rounded-3 border border-1 border-primary bg-primary text-white">
                    Đang giao
                </button>
                <button id="delivered" class="btn-status-bill p-2 rounded-3 border border-1 border-primary">
                    Đã giao
                </button>
                <button id="canceled" class="btn-status-bill p-2 rounded-3 border border-1 border-primary">
                    Đã hủy
                </button>
            </div>
            <div class="display border border-secondary border-1 rounded-3">
                <div class="row fw-bold fs-5 mx-0">
                    <div class="col-2 py-2 border border-start-0 border-top-0 border-bottom-0 border-1 border-secondary">
                        Mã hóa đơn
                    </div>
                    <div class="col-2 py-2 border border-top-0 border-bottom-0 border-1 border-secondary">Ngày mua</div>
                    <div class="col-4 py-2 border border-top-0 border-bottom-0 border-1 border-secondary">Thông tin hóa
                        đơn
                    </div>
                    <div class="col-2 py-2 border border-top-0 border-bottom-0 border-1 border-secondary text-center">
                        Tổng tiền
                    </div>
                    <div class="col-2 py-2 border border-end-0 border-top-0 border-bottom-0 border-1 border-secondary text-center">
                        Chức năng
                    </div>
                </div>

                <div id="display-bills">
                    <div class="row align-items-center mx-0 border border-1 border-secondary border-end-0 border-start-0">
                        <div class="col-2 border border-start-0 border-top-0 border-bottom-0 border-1 border-secondary text-primary"
                             style="padding-block: 20px">
                            #123
                        </div>
                        <div class="col-2 border border-top-0 border-bottom-0 border-1 border-secondary"
                             style="padding-block: 20px">
                            <span>12/12/2021</span>
                        </div>
                        <div class="col-4 py-2 border border-top-0 border-bottom-0 border-1 border-secondary">
                            <p class="m-0">Nguyễn Đình Lam</p>
                            <p class="m-0">0855354919</p>
                        </div>
                        <div class="col-2 border border-top-0 border-bottom-0 border-1 border-secondary text-center"
                             style="padding-block: 20px"
                             th:text="${#numbers.formatCurrency(123456)}"/>
                        <div class="col-2 d-flex gap-2 justify-content-center border border-end-0 border-top-0 border-bottom-0 border-1 border-secondary"
                             style="padding-block: 12px">
                            <button class="active btn btn-primary d-inline-flex justify-content-center align-items-center"
                                    style="width: 40px; height: 40px">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                            <button class="btn btn-danger"
                                    style="width: 40px; height: 40px">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                    </div>
                    <div class="row align-items-center mx-0 border border-1 border-secondary border-end-0 border-start-0">
                        <div class="col-2 border border-start-0 border-top-0 border-bottom-0 border-1 border-secondary text-primary"
                             style="padding-block: 20px">
                            #123
                        </div>
                        <div class="col-2 border border-top-0 border-bottom-0 border-1 border-secondary"
                             style="padding-block: 20px">
                            <span>12/12/2021</span>
                        </div>
                        <div class="col-4 py-2 border border-top-0 border-bottom-0 border-1 border-secondary">
                            <p class="m-0">Nguyễn Đình Lam</p>
                            <p class="m-0">0855354919</p>
                        </div>
                        <div class="col-2 border border-top-0 border-bottom-0 border-1 border-secondary text-center"
                             style="padding-block: 20px"
                             th:text="${#numbers.formatCurrency(123456)}"/>
                        <div class="col-2 d-flex gap-2 justify-content-center border border-end-0 border-top-0 border-bottom-0 border-1 border-secondary"
                             style="padding-block: 12px">
                            <button class="btn btn-primary d-inline-flex justify-content-center align-items-center"
                                    style="width: 40px; height: 40px">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                            <button class="btn btn-danger" style="width: 40px; height: 40px">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
<footer>
    <div th:replace="fragments/footer_fragment::foother"></div>
</footer>
<script type="module" th:src="@{/js/profile.js}"></script>
</body>
</html>